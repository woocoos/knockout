// Code generated by ent, DO NOT EDIT.

//go:build tools
// +build tools

// Package internal holds a loadable version of the latest schema.
package internal

const Schema = `{"Schema":"github.com/woocoos/knockout/codegen/entgen/schema","Package":"github.com/woocoos/knockout/ent","Schemas":[{"name":"App","config":{"Table":""},"edges":[{"name":"menus","type":"AppMenu","annotations":{"EntGQL":{"RelayConnection":true}},"comment":"菜单"},{"name":"actions","type":"AppAction","annotations":{"EntGQL":{"RelayConnection":true}},"comment":"权限"},{"name":"resources","type":"AppRes","annotations":{"EntGQL":{"RelayConnection":true}},"comment":"资源"},{"name":"roles","type":"AppRole","comment":"角色"},{"name":"policies","type":"AppPolicy","comment":"策略"},{"name":"orgs","type":"Org","ref_name":"apps","through":{"N":"org_app","T":"OrgApp"},"inverse":true,"annotations":{"EntGQL":{"RelayConnection":true,"Skip":48}},"comment":"使用该应用的组织"}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"bigint"},"annotations":{"EntSQL":{"incremental":false},"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"unique":true,"validators":1,"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"名称"},{"name":"code","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":10,"unique":true,"immutable":true,"validators":2,"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"用于标识应用资源的唯一代码,尽量简短"},{"name":"kind","type":{"Type":6,"Ident":"app.Kind","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"web","V":"web"},{"N":"native","V":"native"},{"N":"server","V":"server"}],"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"应用类型"},{"name":"redirect_uri","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":255,"optional":true,"validators":1,"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"回调地址"},{"name":"app_key","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"comment":"应用ID"},{"name":"app_secret","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":255,"optional":true,"validators":1,"position":{"Index":5,"MixedIn":false,"MixinIndex":0},"comment":"应用密钥"},{"name":"scopes","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":500,"optional":true,"validators":1,"position":{"Index":6,"MixedIn":false,"MixinIndex":0},"comment":"权限范围"},{"name":"token_validity","type":{"Type":11,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":7,"MixedIn":false,"MixinIndex":0},"comment":"token有效期"},{"name":"refresh_token_validity","type":{"Type":11,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":8,"MixedIn":false,"MixinIndex":0},"comment":"refresh_token有效期"},{"name":"logo","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":9,"MixedIn":false,"MixinIndex":0},"comment":"图标"},{"name":"comments","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":10,"MixedIn":false,"MixinIndex":0},"comment":"备注"},{"name":"status","type":{"Type":6,"Ident":"typex.SimpleStatus","PkgPath":"github.com/woocoos/entco/schemax/typex","PkgName":"typex","Nillable":false,"RType":{"Name":"SimpleStatus","Ident":"typex.SimpleStatus","Kind":24,"PkgPath":"github.com/woocoos/entco/schemax/typex","Methods":{"MarshalGQL":{"In":[{"Name":"Writer","Ident":"io.Writer","Kind":20,"PkgPath":"io","Methods":null}],"Out":[]},"ProtoAnnotation":{"In":[],"Out":[{"Name":"Annotation","Ident":"schema.Annotation","Kind":20,"PkgPath":"entgo.io/ent/schema","Methods":null}]},"String":{"In":[],"Out":[{"Name":"string","Ident":"string","Kind":24,"PkgPath":"","Methods":null}]},"UnmarshalGQL":{"In":[{"Name":"","Ident":"interface {}","Kind":20,"PkgPath":"","Methods":null}],"Out":[{"Name":"error","Ident":"error","Kind":20,"PkgPath":"","Methods":null}]},"Values":{"In":[],"Out":[{"Name":"","Ident":"[]string","Kind":23,"PkgPath":"","Methods":null}]}}}},"enums":[{"N":"active","V":"active"},{"N":"inactive","V":"inactive"},{"N":"processing","V":"processing"}],"optional":true,"default":true,"default_value":"active","default_kind":24,"position":{"Index":11,"MixedIn":false,"MixinIndex":0},"comment":"状态"},{"name":"private","type":{"Type":1,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"default":true,"default_value":false,"default_kind":1,"position":{"Index":12,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":63}},"comment":"私有App,表示由组织创建"},{"name":"org_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":13,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":63}},"comment":"创建的根组织ID"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}],"QueryField":{"Description":"公开应用查询"},"RelayConnection":true},"EntSQL":{"table":"app"}}},{"name":"AppAction","config":{"Table":""},"edges":[{"name":"app","type":"App","field":"app_id","ref_name":"actions","unique":true,"inverse":true,"immutable":true},{"name":"menus","type":"AppMenu","comment":"被引用的菜单项"}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"bigint"},"annotations":{"EntSQL":{"incremental":false},"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"app_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"所属应用"},{"name":"name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"validators":1,"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"名称"},{"name":"kind","type":{"Type":6,"Ident":"appaction.Kind","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"restful","V":"restful"},{"N":"graphql","V":"graphql"},{"N":"rpc","V":"rpc"},{"N":"function","V":"function"}],"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"restful,graphql,rpc,function"},{"name":"method","type":{"Type":6,"Ident":"appaction.Method","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"read","V":"read"},{"N":"write","V":"write"},{"N":"list","V":"list"}],"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"操作方法:读,写,列表"},{"name":"comments","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":8}},"comment":"备注"}],"indexes":[{"unique":true,"fields":["app_id","name"]}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}],"RelayConnection":true},"EntSQL":{"table":"app_action"}}},{"name":"AppMenu","config":{"Table":""},"edges":[{"name":"app","type":"App","field":"app_id","ref_name":"menus","unique":true,"inverse":true,"immutable":true},{"name":"action","type":"AppAction","field":"action_id","ref_name":"menus","unique":true,"inverse":true,"comment":"需要权限控制时对应的权限"}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"bigint"},"annotations":{"EntSQL":{"incremental":false},"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"app_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"所属应用"},{"name":"parent_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"父级ID"},{"name":"kind","type":{"Type":6,"Ident":"appmenu.Kind","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"dir","V":"dir"},{"N":"menu","V":"menu"}],"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"目录,菜单项"},{"name":"name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"菜单名称"},{"name":"action_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"nillable":true,"optional":true,"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"comment":"操作ID"},{"name":"comments","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":5,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":8}},"comment":"备注"},{"name":"display_sort","type":{"Type":11,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":6,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"OrderField":"displaySort","Skip":56}}}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1},{"Index":0,"MixedIn":false,"MixinIndex":0}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}],"RelayConnection":true},"EntSQL":{"table":"app_menu"}}},{"name":"AppPolicy","config":{"Table":""},"edges":[{"name":"app","type":"App","field":"app_id","ref_name":"policies","unique":true,"inverse":true,"immutable":true},{"name":"roles","type":"AppRole","ref_name":"policies","through":{"N":"app_role_policy","T":"AppRolePolicy"},"inverse":true}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"bigint"},"annotations":{"EntSQL":{"incremental":false},"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"app_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"所属应用"},{"name":"name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"策略名称"},{"name":"comments","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"描述"},{"name":"rules","type":{"Type":3,"Ident":"[]types.PolicyRule","PkgPath":"github.com/woocoos/knockout/codegen/entgen/types","PkgName":"types","Nillable":true,"RType":{"Name":"","Ident":"[]types.PolicyRule","Kind":23,"PkgPath":"","Methods":{}}},"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"策略规则"},{"name":"version","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"comment":"版本号"},{"name":"auto_grant","type":{"Type":1,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_value":false,"default_kind":1,"position":{"Index":5,"MixedIn":false,"MixinIndex":0},"comment":"标识是否自动授予到账户"},{"name":"status","type":{"Type":6,"Ident":"typex.SimpleStatus","PkgPath":"github.com/woocoos/entco/schemax/typex","PkgName":"typex","Nillable":false,"RType":{"Name":"SimpleStatus","Ident":"typex.SimpleStatus","Kind":24,"PkgPath":"github.com/woocoos/entco/schemax/typex","Methods":{"MarshalGQL":{"In":[{"Name":"Writer","Ident":"io.Writer","Kind":20,"PkgPath":"io","Methods":null}],"Out":[]},"ProtoAnnotation":{"In":[],"Out":[{"Name":"Annotation","Ident":"schema.Annotation","Kind":20,"PkgPath":"entgo.io/ent/schema","Methods":null}]},"String":{"In":[],"Out":[{"Name":"string","Ident":"string","Kind":24,"PkgPath":"","Methods":null}]},"UnmarshalGQL":{"In":[{"Name":"","Ident":"interface {}","Kind":20,"PkgPath":"","Methods":null}],"Out":[{"Name":"error","Ident":"error","Kind":20,"PkgPath":"","Methods":null}]},"Values":{"In":[],"Out":[{"Name":"","Ident":"[]string","Kind":23,"PkgPath":"","Methods":null}]}}}},"enums":[{"N":"active","V":"active"},{"N":"inactive","V":"inactive"},{"N":"processing","V":"processing"}],"optional":true,"default":true,"default_value":"active","default_kind":24,"position":{"Index":6,"MixedIn":false,"MixinIndex":0},"comment":"状态"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1},{"Index":0,"MixedIn":false,"MixinIndex":0}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}],"RelayConnection":true},"EntSQL":{"table":"app_policy"}}},{"name":"AppRes","config":{"Table":""},"edges":[{"name":"app","type":"App","field":"app_id","ref_name":"resources","unique":true,"inverse":true,"immutable":true}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"bigint"},"annotations":{"EntSQL":{"incremental":false},"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"app_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"所属应用"},{"name":"name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"资源名称"},{"name":"type_name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"资源类型名称,如数据库表名"},{"name":"arn_pattern","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"应用资源表达式"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}],"RelayConnection":true},"EntSQL":{"table":"app_res"}}},{"name":"AppRole","config":{"Table":""},"edges":[{"name":"app","type":"App","field":"app_id","ref_name":"roles","unique":true,"inverse":true,"immutable":true},{"name":"policies","type":"AppPolicy","through":{"N":"app_role_policy","T":"AppRolePolicy"},"comment":"权限授权策略"}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"bigint"},"annotations":{"EntSQL":{"incremental":false},"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"app_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"所属应用"},{"name":"name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"unique":true,"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"角色名称"},{"name":"comments","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":8}},"comment":"备注"},{"name":"auto_grant","type":{"Type":1,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_value":false,"default_kind":1,"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"标识是否自动授予到账户"},{"name":"editable","type":{"Type":1,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_value":false,"default_kind":1,"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"comment":"授权后是否可编辑"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}]},"EntSQL":{"table":"app_role"}}},{"name":"AppRolePolicy","config":{"Table":""},"edges":[{"name":"role","type":"AppRole","field":"app_role_id","unique":true,"required":true},{"name":"policy","type":"AppPolicy","field":"app_policy_id","unique":true,"required":true}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"int"},"annotations":{"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"app_role_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"应用角色ID"},{"name":"app_policy_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"策略ID"},{"name":"app_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"应用ID"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"Skip":1},"EntSQL":{"table":"app_role_policy"}}},{"name":"Org","config":{"Table":""},"edges":[{"name":"parent","type":"Org","field":"parent_id","ref":{"name":"children","type":"Org"},"unique":true,"inverse":true,"required":true},{"name":"owner","type":"User","field":"owner_id","unique":true,"comment":"管理账户"},{"name":"users","type":"User","through":{"N":"org_user","T":"OrgUser"},"annotations":{"EntGQL":{"RelayConnection":true}},"comment":"组织下用户"},{"name":"roles_and_groups","type":"OrgRole","annotations":{"EntGQL":{"Skip":1}},"comment":"组织下角色及用户组."},{"name":"permissions","type":"Permission","annotations":{"EntGQL":{"RelayConnection":true}},"comment":"组织授权信息"},{"name":"policies","type":"OrgPolicy","annotations":{"EntGQL":{"RelayConnection":true}},"comment":"组织下权限策略"},{"name":"apps","type":"App","through":{"N":"org_app","T":"OrgApp"},"annotations":{"EntGQL":{"RelayConnection":true}},"comment":"组织下应用"}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"bigint"},"annotations":{"EntSQL":{"incremental":false},"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"deleted_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":2},"annotations":{"EntGQL":{"Skip":48},"ProtoSkip":{}}},{"name":"owner_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"nillable":true,"optional":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"管理账户ID,如果设置则该组织将升级为根组织"},{"name":"kind","type":{"Type":6,"Ident":"org.Kind","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"root","V":"root"},{"N":"organization","V":"org"}],"default":true,"default_value":"org","default_kind":24,"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":48}},"comment":"分类: 根节点,组织节点"},{"name":"parent_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_value":0,"default_kind":2,"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"父级ID,0为根组织."},{"name":"domain","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"unique":true,"optional":true,"validators":1,"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"默认域名"},{"name":"code","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"optional":true,"validators":1,"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":48}},"comment":"系统代码"},{"name":"name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":100,"validators":1,"position":{"Index":5,"MixedIn":false,"MixinIndex":0},"comment":"组织名称"},{"name":"profile","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":6,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":8}},"comment":"简介"},{"name":"status","type":{"Type":6,"Ident":"typex.SimpleStatus","PkgPath":"github.com/woocoos/entco/schemax/typex","PkgName":"typex","Nillable":false,"RType":{"Name":"SimpleStatus","Ident":"typex.SimpleStatus","Kind":24,"PkgPath":"github.com/woocoos/entco/schemax/typex","Methods":{"MarshalGQL":{"In":[{"Name":"Writer","Ident":"io.Writer","Kind":20,"PkgPath":"io","Methods":null}],"Out":[]},"ProtoAnnotation":{"In":[],"Out":[{"Name":"Annotation","Ident":"schema.Annotation","Kind":20,"PkgPath":"entgo.io/ent/schema","Methods":null}]},"String":{"In":[],"Out":[{"Name":"string","Ident":"string","Kind":24,"PkgPath":"","Methods":null}]},"UnmarshalGQL":{"In":[{"Name":"","Ident":"interface {}","Kind":20,"PkgPath":"","Methods":null}],"Out":[{"Name":"error","Ident":"error","Kind":20,"PkgPath":"","Methods":null}]},"Values":{"In":[],"Out":[{"Name":"","Ident":"[]string","Kind":23,"PkgPath":"","Methods":null}]}}}},"enums":[{"N":"active","V":"active"},{"N":"inactive","V":"inactive"},{"N":"processing","V":"processing"}],"optional":true,"default":true,"default_value":"active","default_kind":24,"position":{"Index":7,"MixedIn":false,"MixinIndex":0},"comment":"状态"},{"name":"path","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":2147483647,"optional":true,"position":{"Index":8,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":48}},"comment":"路径编码"},{"name":"display_sort","type":{"Type":11,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":9,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"OrderField":"displaySort","Skip":56}}},{"name":"country_code","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":10,"optional":true,"validators":1,"position":{"Index":10,"MixedIn":false,"MixinIndex":0},"comment":"国家或地区2字码"},{"name":"timezone","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"optional":true,"validators":1,"position":{"Index":11,"MixedIn":false,"MixinIndex":0},"comment":"时区"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1},{"Index":0,"MixedIn":true,"MixinIndex":2},{"Index":0,"MixedIn":false,"MixinIndex":0},{"Index":1,"MixedIn":false,"MixinIndex":0},{"Index":2,"MixedIn":false,"MixinIndex":0},{"Index":3,"MixedIn":false,"MixinIndex":0}],"interceptors":[{"Index":0,"MixedIn":true,"MixinIndex":2}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}],"QueryField":{"Name":"organizations"},"RelayConnection":true},"EntSQL":{"table":"org"}}},{"name":"OrgApp","config":{"Table":""},"edges":[{"name":"app","type":"App","field":"app_id","unique":true,"required":true},{"name":"org","type":"Org","field":"org_id","unique":true,"required":true}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"int"},"annotations":{"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"org_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"组织ID"},{"name":"app_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"应用ID"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"Skip":63},"EntSQL":{"table":"org_app"}}},{"name":"OrgPolicy","config":{"Table":""},"edges":[{"name":"org","type":"Org","field":"org_id","ref_name":"policies","unique":true,"inverse":true,"immutable":true},{"name":"permissions","type":"Permission"}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"bigint"},"annotations":{"EntSQL":{"incremental":false},"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"org_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"组织ID"},{"name":"app_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":63}},"comment":"所属应用"},{"name":"app_policy_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"所属应用策略,如果是自定义应用策略,则为空"},{"name":"name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"策略名称"},{"name":"comments","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"comment":"描述"},{"name":"rules","type":{"Type":3,"Ident":"[]types.PolicyRule","PkgPath":"github.com/woocoos/knockout/codegen/entgen/types","PkgName":"types","Nillable":true,"RType":{"Name":"","Ident":"[]types.PolicyRule","Kind":23,"PkgPath":"","Methods":{}}},"position":{"Index":5,"MixedIn":false,"MixinIndex":0},"comment":"策略规则"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1},{"Index":0,"MixedIn":false,"MixinIndex":0}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}],"RelayConnection":true},"EntSQL":{"table":"org_policy"}}},{"name":"OrgRole","config":{"Table":""},"edges":[{"name":"org","type":"Org","field":"org_id","ref_name":"roles_and_groups","unique":true,"inverse":true,"immutable":true,"annotations":{"EntGQL":{"Skip":1}}},{"name":"org_users","type":"OrgUser","through":{"N":"org_role_user","T":"OrgRoleUser"},"annotations":{"EntGQL":{"Skip":63}},"comment":"组用户"}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"int"},"annotations":{"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"org_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"组织ID"},{"name":"kind","type":{"Type":6,"Ident":"orgrole.Kind","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"group","V":"group"},{"N":"role","V":"role"}],"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"类型,group:组,role:角色"},{"name":"name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"名称"},{"name":"app_role_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":63}},"comment":"角色ID,如有表示该角色来源于应用角色"},{"name":"comments","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":8}},"comment":"备注"}],"indexes":[{"unique":true,"fields":["org_id","name"]}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}],"RelayConnection":true},"EntSQL":{"table":"org_role"}}},{"name":"OrgRoleUser","config":{"Table":""},"edges":[{"name":"org_role","type":"OrgRole","field":"org_role_id","unique":true,"required":true},{"name":"org_user","type":"OrgUser","field":"org_user_id","unique":true,"required":true}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"int"},"annotations":{"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"org_role_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"组织角色ID"},{"name":"org_user_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"组织用户ID"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"Skip":1},"EntSQL":{"table":"org_role_user"}}},{"name":"OrgUser","config":{"Table":""},"edges":[{"name":"org","type":"Org","field":"org_id","unique":true,"required":true},{"name":"user","type":"User","field":"user_id","unique":true,"required":true},{"name":"org_roles","type":"OrgRole","ref_name":"org_users","inverse":true,"annotations":{"EntGQL":{"Skip":63}}}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"int"},"annotations":{"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"org_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"组织ID"},{"name":"user_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"用户ID"},{"name":"joined_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"加入时间"},{"name":"display_name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"在组织内的显示名称"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}],"Skip":1},"EntSQL":{"table":"org_user"}}},{"name":"Permission","config":{"Table":""},"edges":[{"name":"org","type":"Org","field":"org_id","ref_name":"permissions","unique":true,"inverse":true,"required":true,"immutable":true},{"name":"user","type":"User","field":"user_id","unique":true,"immutable":true},{"name":"org_policy","type":"OrgPolicy","field":"org_policy_id","ref_name":"permissions","unique":true,"inverse":true,"required":true,"immutable":true}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"bigint"},"annotations":{"EntSQL":{"incremental":false},"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"org_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"comment":"授权的域根组织"},{"name":"principal_kind","type":{"Type":6,"Ident":"permission.PrincipalKind","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"user","V":"user"},{"N":"role","V":"role"}],"immutable":true,"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"授权类型:角色,用户"},{"name":"user_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"授权类型为用户的ID"},{"name":"role_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"授权类型为角色或用户组的ID"},{"name":"org_policy_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"comment":"策略"},{"name":"start_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":5,"MixedIn":false,"MixinIndex":0},"comment":"生效开始时间"},{"name":"end_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":6,"MixedIn":false,"MixinIndex":0},"comment":"生效结束时间"},{"name":"status","type":{"Type":6,"Ident":"typex.SimpleStatus","PkgPath":"github.com/woocoos/entco/schemax/typex","PkgName":"typex","Nillable":false,"RType":{"Name":"SimpleStatus","Ident":"typex.SimpleStatus","Kind":24,"PkgPath":"github.com/woocoos/entco/schemax/typex","Methods":{"MarshalGQL":{"In":[{"Name":"Writer","Ident":"io.Writer","Kind":20,"PkgPath":"io","Methods":null}],"Out":[]},"ProtoAnnotation":{"In":[],"Out":[{"Name":"Annotation","Ident":"schema.Annotation","Kind":20,"PkgPath":"entgo.io/ent/schema","Methods":null}]},"String":{"In":[],"Out":[{"Name":"string","Ident":"string","Kind":24,"PkgPath":"","Methods":null}]},"UnmarshalGQL":{"In":[{"Name":"","Ident":"interface {}","Kind":20,"PkgPath":"","Methods":null}],"Out":[{"Name":"error","Ident":"error","Kind":20,"PkgPath":"","Methods":null}]},"Values":{"In":[],"Out":[{"Name":"","Ident":"[]string","Kind":23,"PkgPath":"","Methods":null}]}}}},"enums":[{"N":"active","V":"active"},{"N":"inactive","V":"inactive"},{"N":"processing","V":"processing"}],"optional":true,"position":{"Index":7,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":16}},"comment":"状态"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}],"RelayConnection":true},"EntSQL":{"table":"permission"}}},{"name":"User","config":{"Table":""},"edges":[{"name":"identities","type":"UserIdentity","annotations":{"EntGQL":{"Skip":32},"ProtoSkip":{}},"comment":"用户身份标识"},{"name":"login_profile","type":"UserLoginProfile","unique":true,"annotations":{"EntGQL":{"Skip":32},"ProtoSkip":{}},"comment":"登陆设置"},{"name":"passwords","type":"UserPassword","annotations":{"EntGQL":{"Skip":33},"ProtoSkip":{}},"comment":"用户密码"},{"name":"devices","type":"UserDevice","annotations":{"EntGQL":{"Skip":32},"ProtoSkip":{}},"comment":"用户设备"},{"name":"orgs","type":"Org","ref_name":"users","through":{"N":"org_user","T":"OrgUser"},"inverse":true,"annotations":{"EntGQL":{"Skip":63},"ProtoSkip":{}},"comment":"用户所属组织"},{"name":"permissions","type":"Permission","ref_name":"user","inverse":true,"annotations":{"EntGQL":{"RelayConnection":true,"Skip":48},"ProtoSkip":{}},"comment":"用户权限"}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"bigint"},"annotations":{"EntSQL":{"incremental":false},"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"deleted_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":2},"annotations":{"EntGQL":{"Skip":48},"ProtoSkip":{}}},{"name":"principal_name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"unique":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0},"annotations":{"ProtoField":{"Number":7,"Type":0,"TypeName":""}},"comment":"登陆名称"},{"name":"display_name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"annotations":{"ProtoField":{"Number":8,"Type":0,"TypeName":""}},"comment":"显示名"},{"name":"email","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"optional":true,"validators":1,"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"annotations":{"ProtoField":{"Number":9,"Type":0,"TypeName":""}},"comment":"邮箱"},{"name":"mobile","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"optional":true,"validators":1,"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"annotations":{"ProtoField":{"Number":10,"Type":0,"TypeName":""}},"comment":"手机"},{"name":"user_type","type":{"Type":6,"Ident":"user.UserType","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"account","V":"account"},{"N":"member","V":"member"}],"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":56},"ProtoEnum":{"OmitFieldPrefix":false,"Options":{"account":1,"member":2}},"ProtoField":{"Number":11,"Type":0,"TypeName":""}},"comment":"用户类型"},{"name":"creation_type","type":{"Type":6,"Ident":"user.CreationType","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"invitation","V":"invitation"},{"N":"register","V":"register"},{"N":"manual","V":"manual"}],"position":{"Index":5,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":48},"ProtoEnum":{"OmitFieldPrefix":false,"Options":{"invitation":1,"manual":3,"register":2}},"ProtoField":{"Number":12,"Type":0,"TypeName":""}},"comment":"创建类型,邀请，注册,手工创建"},{"name":"register_ip","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"nillable":true,"validators":1,"position":{"Index":6,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":48},"ProtoSkip":{}},"comment":"注册时IP"},{"name":"status","type":{"Type":6,"Ident":"typex.SimpleStatus","PkgPath":"github.com/woocoos/entco/schemax/typex","PkgName":"typex","Nillable":false,"RType":{"Name":"SimpleStatus","Ident":"typex.SimpleStatus","Kind":24,"PkgPath":"github.com/woocoos/entco/schemax/typex","Methods":{"MarshalGQL":{"In":[{"Name":"Writer","Ident":"io.Writer","Kind":20,"PkgPath":"io","Methods":null}],"Out":[]},"ProtoAnnotation":{"In":[],"Out":[{"Name":"Annotation","Ident":"schema.Annotation","Kind":20,"PkgPath":"entgo.io/ent/schema","Methods":null}]},"String":{"In":[],"Out":[{"Name":"string","Ident":"string","Kind":24,"PkgPath":"","Methods":null}]},"UnmarshalGQL":{"In":[{"Name":"","Ident":"interface {}","Kind":20,"PkgPath":"","Methods":null}],"Out":[{"Name":"error","Ident":"error","Kind":20,"PkgPath":"","Methods":null}]},"Values":{"In":[],"Out":[{"Name":"","Ident":"[]string","Kind":23,"PkgPath":"","Methods":null}]}}}},"enums":[{"N":"active","V":"active"},{"N":"inactive","V":"inactive"},{"N":"processing","V":"processing"}],"optional":true,"position":{"Index":7,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":32},"ProtoSkip":{}},"comment":"状态"},{"name":"comments","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":8,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":8},"ProtoSkip":{}},"comment":"备注"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1},{"Index":0,"MixedIn":true,"MixinIndex":2}],"interceptors":[{"Index":0,"MixedIn":true,"MixinIndex":2}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}],"QueryField":{},"RelayConnection":true},"EntSQL":{"table":"user"},"ProtoMessage":{"Generate":true,"Package":"entpb"},"ProtoService":{"Generate":true,"Methods":16}}},{"name":"UserDevice","config":{"Table":""},"edges":[{"name":"user","type":"User","field":"user_id","ref_name":"devices","unique":true,"inverse":true,"immutable":true}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"int"},"annotations":{"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"user_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0}},{"name":"device_uid","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":64,"validators":1,"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"设备唯一ID"},{"name":"device_name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"optional":true,"validators":1,"position":{"Index":2,"MixedIn":false,"MixinIndex":0}},{"name":"system_name","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"optional":true,"validators":1,"position":{"Index":3,"MixedIn":false,"MixinIndex":0}},{"name":"system_version","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"optional":true,"validators":1,"position":{"Index":4,"MixedIn":false,"MixinIndex":0}},{"name":"app_version","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"optional":true,"validators":1,"position":{"Index":5,"MixedIn":false,"MixinIndex":0}},{"name":"device_model","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"optional":true,"validators":1,"position":{"Index":6,"MixedIn":false,"MixinIndex":0}},{"name":"status","type":{"Type":6,"Ident":"typex.SimpleStatus","PkgPath":"github.com/woocoos/entco/schemax/typex","PkgName":"typex","Nillable":false,"RType":{"Name":"SimpleStatus","Ident":"typex.SimpleStatus","Kind":24,"PkgPath":"github.com/woocoos/entco/schemax/typex","Methods":{"MarshalGQL":{"In":[{"Name":"Writer","Ident":"io.Writer","Kind":20,"PkgPath":"io","Methods":null}],"Out":[]},"ProtoAnnotation":{"In":[],"Out":[{"Name":"Annotation","Ident":"schema.Annotation","Kind":20,"PkgPath":"entgo.io/ent/schema","Methods":null}]},"String":{"In":[],"Out":[{"Name":"string","Ident":"string","Kind":24,"PkgPath":"","Methods":null}]},"UnmarshalGQL":{"In":[{"Name":"","Ident":"interface {}","Kind":20,"PkgPath":"","Methods":null}],"Out":[{"Name":"error","Ident":"error","Kind":20,"PkgPath":"","Methods":null}]},"Values":{"In":[],"Out":[{"Name":"","Ident":"[]string","Kind":23,"PkgPath":"","Methods":null}]}}}},"enums":[{"N":"active","V":"active"},{"N":"inactive","V":"inactive"},{"N":"processing","V":"processing"}],"optional":true,"position":{"Index":7,"MixedIn":false,"MixinIndex":0},"comment":"状态,可用或不可用及其他待确认状态"},{"name":"comments","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":8,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":8}},"comment":"备注"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntSQL":{"table":"user_device"}}},{"name":"UserIdentity","config":{"Table":""},"edges":[{"name":"user","type":"User","field":"user_id","ref_name":"identities","unique":true,"inverse":true,"immutable":true}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"int"},"annotations":{"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"user_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0}},{"name":"kind","type":{"Type":6,"Ident":"useridentity.Kind","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"name","V":"name"},{"N":"email","V":"email"},{"N":"phone","V":"phone"},{"N":"wechat","V":"wechat"},{"N":"qq","V":"qq"}],"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"身份标识类型 手机、邮箱、用户名、微信、qq"},{"name":"code","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"comment":"用户名、邮箱、手机、unionid、qq"},{"name":"code_extend","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"扩展标识码,比如微信的openID"},{"name":"status","type":{"Type":6,"Ident":"typex.SimpleStatus","PkgPath":"github.com/woocoos/entco/schemax/typex","PkgName":"typex","Nillable":false,"RType":{"Name":"SimpleStatus","Ident":"typex.SimpleStatus","Kind":24,"PkgPath":"github.com/woocoos/entco/schemax/typex","Methods":{"MarshalGQL":{"In":[{"Name":"Writer","Ident":"io.Writer","Kind":20,"PkgPath":"io","Methods":null}],"Out":[]},"ProtoAnnotation":{"In":[],"Out":[{"Name":"Annotation","Ident":"schema.Annotation","Kind":20,"PkgPath":"entgo.io/ent/schema","Methods":null}]},"String":{"In":[],"Out":[{"Name":"string","Ident":"string","Kind":24,"PkgPath":"","Methods":null}]},"UnmarshalGQL":{"In":[{"Name":"","Ident":"interface {}","Kind":20,"PkgPath":"","Methods":null}],"Out":[{"Name":"error","Ident":"error","Kind":20,"PkgPath":"","Methods":null}]},"Values":{"In":[],"Out":[{"Name":"","Ident":"[]string","Kind":23,"PkgPath":"","Methods":null}]}}}},"enums":[{"N":"active","V":"active"},{"N":"inactive","V":"inactive"},{"N":"processing","V":"processing"}],"optional":true,"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"comment":"状态,部分登陆方式需要验证通过才可启用"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1},{"Index":0,"MixedIn":false,"MixinIndex":0}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}]},"EntSQL":{"table":"user_identity"}}},{"name":"UserLoginProfile","config":{"Table":""},"edges":[{"name":"user","type":"User","field":"user_id","ref_name":"login_profile","unique":true,"inverse":true,"immutable":true}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"int"},"annotations":{"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"user_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0}},{"name":"last_login_ip","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":56}}},{"name":"last_login_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"annotations":{"EntGQL":{"Skip":56}},"comment":"最后登陆时间"},{"name":"can_login","type":{"Type":1,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"comment":"是否允许使用密码登陆控制台"},{"name":"set_kind","type":{"Type":6,"Ident":"userloginprofile.SetKind","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"keep","V":"keep"},{"N":"customer","V":"customer"},{"N":"auto","V":"auto"}],"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"comment":"设置密码:keep-保持不变,customer-客户自行设置,auto-自动生成"},{"name":"password_reset","type":{"Type":1,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":5,"MixedIn":false,"MixinIndex":0},"comment":"下次登陆时需要重置密码"},{"name":"verify_device","type":{"Type":1,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":6,"MixedIn":false,"MixinIndex":0},"comment":"是否开启设备认证"},{"name":"mfa_enabled","type":{"Type":1,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":7,"MixedIn":false,"MixinIndex":0},"comment":"是否开启多因素验证"},{"name":"mfa_secret","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":100,"optional":true,"validators":1,"position":{"Index":8,"MixedIn":false,"MixinIndex":0},"sensitive":true,"comment":"多因素验证密钥BASE32"},{"name":"mfa_status","type":{"Type":6,"Ident":"typex.SimpleStatus","PkgPath":"github.com/woocoos/entco/schemax/typex","PkgName":"typex","Nillable":false,"RType":{"Name":"SimpleStatus","Ident":"typex.SimpleStatus","Kind":24,"PkgPath":"github.com/woocoos/entco/schemax/typex","Methods":{"MarshalGQL":{"In":[{"Name":"Writer","Ident":"io.Writer","Kind":20,"PkgPath":"io","Methods":null}],"Out":[]},"ProtoAnnotation":{"In":[],"Out":[{"Name":"Annotation","Ident":"schema.Annotation","Kind":20,"PkgPath":"entgo.io/ent/schema","Methods":null}]},"String":{"In":[],"Out":[{"Name":"string","Ident":"string","Kind":24,"PkgPath":"","Methods":null}]},"UnmarshalGQL":{"In":[{"Name":"","Ident":"interface {}","Kind":20,"PkgPath":"","Methods":null}],"Out":[{"Name":"error","Ident":"error","Kind":20,"PkgPath":"","Methods":null}]},"Values":{"In":[],"Out":[{"Name":"","Ident":"[]string","Kind":23,"PkgPath":"","Methods":null}]}}}},"enums":[{"N":"active","V":"active"},{"N":"inactive","V":"inactive"},{"N":"processing","V":"processing"}],"optional":true,"position":{"Index":9,"MixedIn":false,"MixinIndex":0},"comment":"多因素验证状态"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}]},"EntSQL":{"table":"user_login_profile"}}},{"name":"UserPassword","config":{"Table":""},"edges":[{"name":"user","type":"User","field":"user_id","ref_name":"passwords","unique":true,"inverse":true,"immutable":true}],"fields":[{"name":"id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"position":{"Index":0,"MixedIn":true,"MixinIndex":0},"schema_type":{"mysql":"int"},"annotations":{"ProtoField":{"Number":1,"Type":0,"TypeName":""}}},{"name":"created_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"immutable":true,"position":{"Index":0,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":16},"ProtoField":{"Number":2,"Type":0,"TypeName":""}}},{"name":"created_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"default":true,"default_kind":19,"immutable":true,"position":{"Index":1,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"OrderField":"createdAt","Skip":16},"ProtoField":{"Number":3,"Type":0,"TypeName":""}}},{"name":"updated_by","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":4,"Type":0,"TypeName":""}}},{"name":"updated_at","type":{"Type":2,"Ident":"","PkgPath":"time","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":3,"MixedIn":true,"MixinIndex":1},"annotations":{"EntGQL":{"Skip":48},"ProtoField":{"Number":5,"Type":0,"TypeName":""}}},{"name":"user_id","type":{"Type":12,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"immutable":true,"position":{"Index":0,"MixedIn":false,"MixinIndex":0}},{"name":"scene","type":{"Type":6,"Ident":"userpassword.Scene","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"enums":[{"N":"login","V":"login"}],"position":{"Index":1,"MixedIn":false,"MixinIndex":0},"comment":"场景: login 普通登陆"},{"name":"password","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"optional":true,"position":{"Index":2,"MixedIn":false,"MixinIndex":0},"sensitive":true,"comment":"密码"},{"name":"salt","type":{"Type":7,"Ident":"","PkgPath":"","PkgName":"","Nillable":false,"RType":null},"size":45,"validators":1,"position":{"Index":3,"MixedIn":false,"MixinIndex":0},"sensitive":true,"annotations":{"EntGQL":{"Skip":63}},"comment":"盐"},{"name":"status","type":{"Type":6,"Ident":"typex.SimpleStatus","PkgPath":"github.com/woocoos/entco/schemax/typex","PkgName":"typex","Nillable":false,"RType":{"Name":"SimpleStatus","Ident":"typex.SimpleStatus","Kind":24,"PkgPath":"github.com/woocoos/entco/schemax/typex","Methods":{"MarshalGQL":{"In":[{"Name":"Writer","Ident":"io.Writer","Kind":20,"PkgPath":"io","Methods":null}],"Out":[]},"ProtoAnnotation":{"In":[],"Out":[{"Name":"Annotation","Ident":"schema.Annotation","Kind":20,"PkgPath":"entgo.io/ent/schema","Methods":null}]},"String":{"In":[],"Out":[{"Name":"string","Ident":"string","Kind":24,"PkgPath":"","Methods":null}]},"UnmarshalGQL":{"In":[{"Name":"","Ident":"interface {}","Kind":20,"PkgPath":"","Methods":null}],"Out":[{"Name":"error","Ident":"error","Kind":20,"PkgPath":"","Methods":null}]},"Values":{"In":[],"Out":[{"Name":"","Ident":"[]string","Kind":23,"PkgPath":"","Methods":null}]}}}},"enums":[{"N":"active","V":"active"},{"N":"inactive","V":"inactive"},{"N":"processing","V":"processing"}],"optional":true,"default":true,"default_value":"active","default_kind":24,"position":{"Index":4,"MixedIn":false,"MixinIndex":0},"comment":"生效状态,默认生效"}],"hooks":[{"Index":0,"MixedIn":true,"MixinIndex":1}],"annotations":{"EntGQL":{"MutationInputs":[{"IsCreate":true},{}]},"EntSQL":{"table":"user_password"}}}],"Features":["sql/versioned-migration","sql/upsert","intercept","namedges","privacy","schema/snapshot"]}`
